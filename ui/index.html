<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="static/styles.css">
<link rel="icon" href="static/favicon.svg" sizes="any" type="image/svg+xml">
<title>Authenticated</title>
</head>
<body>
<div id="some-section">
  <div class="some-container">
    <h2>You are authenticated</h2>
	<div id="notification-div">
	</div>
	<div>
		<div>
			User info:
			<pre id="user-info-container">
			<br><br>
			</pre>
		</div>
		<button id="me-btn" class="submit-button">Get info about user</button>
	</div>
	<hr style="margin: 15px;">
	<div>
		<h3>Password Update</h3>
		<div class="field-label">
			<label for="old-password">Type your old password</label>
			<input id="old-password" type="password" class="input-field">
		</div>
		<div class="field-label">
			<label for="new-password">Type your new password</label>
			<input id="new-password" type="password" class="input-field">
		</div>
		<button onclick="changePassword()" class="submit-button">Change Password</button>
	</div>
	<hr style="margin: 15px;">
	<h3>Logout</h3>
    <form id="some-form" action="/api/auth/logout" method="GET">
      <button type="submit" class="submit-button">Logout</button>
    </form>
	<form id="logout-from-all" action="/api/auth/user/logout/all" method="GET">
      <button type="submit" class="submit-button">Logout From All Devices</button>
  <div class="secondary-buttons">
		<span><button class="secondary-button" onclick="location.href='https://github.com/milessic/template-fastapi-auth'">Checkout project on GitHub!</button></span>
  </div>
	</form>
  </div>
</div>
<script src="static/auth_script.js"></script>
<script type="module">
	document.getElementById("me-btn").addEventListener("click", setUserData);
	await startRefreshTokenProcess();
</script>

</body>
</html>

